<!DOCTYPE html>

<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <!-- CSS only -->
    <link crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
          integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" rel="stylesheet"/>
    <!-- JavaScript Bundle with Popper -->
    <script src="https://code.jquery.com/jquery-3.6.1.min.js"
            integrity="sha256-o88AwQnZB+VDvE9tvIXrMQaPlFFSUTR+nldQm1LuPXQ=" crossorigin="anonymous"></script>
    <script crossorigin="anonymous" integrity="sha384-A3rJD856KowSb7dwlZdYEkO39Gagi7vIsF0jrRAoQmDKKtQBHUuLZ9AsSv4jD4Xa"
            src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js"></script>
    <link crossorigin="anonymous" href="https://use.fontawesome.com/releases/v5.1.0/css/all.css"
          integrity="sha384-lKuwvrZot6UHsBSfcMvOkWwlCMgc0TaWr+30HWe3a4ltaBwTZhyTEggF5tJv8tbt" rel="stylesheet"/>
    <script src="/js/roomlist/bootstrap-show-password.min.js"></script>
    <script src="/js/roomlist/roomlist.js"></script>
    <style>
        a {
            text-decoration: none;
        }

        #table {
            margin-top: 40px;
        }

        h2 {
            margin-top: 40px;
        }

        input#maxUserCnt {
            width: 160px;
        }

        span.input-group-text.input-password-hide {
            height: 40px;
        }

        span.input-group-text.input-password-show {
            height: 40px;
        }

    </style>
</head>
<body>
<div id="visitorCount" style="position: absolute; top: 10px; right: 10px;"></div>
<div class="container">
    <div class="container">
        <h2>ì±„íŒ…ë°© ë¦¬ìŠ¤íŠ¸</h2>
        <div class="row" th:if="${user == null}">
            <div class="col">
                <a href="/chatlogin">
                    <button class="btn btn-primary" type="button">ë¡œê·¸ì¸í•˜ê¸°</button>
                </a>
            </div>
        </div>
        <h5 th:if="${user != null}">
            [[${user.nickName}]]
        </h5>
        <table class="table table-hover" id="table">
            <tr>
                <th scope="col">ì±„íŒ…ë°©ëª…</th>
                <th scope="col">ì ê¸ˆ ì—¬ë¶€</th>
                <th scope="col">ì°¸ì—¬ ì¸ì›</th>
                <th scope="col">ì±„íŒ… ì¢…ë¥˜</th>
                <th scope="col">ì±„íŒ…ë°© ì„¤ì •</th>
            </tr>
            <th:block th:fragment="content">
                <tr th:each="room : ${list}">
                    <span class="hidden" th:id="${room.roomName}"></span>
                    <td th:if="${room.secretChk}">
                        <a data-bs-toggle="modal" data-target="#enterRoomModal" href="#enterRoomModal"
                           th:data-id="${room.roomId}">[[${room.roomName}]]</a>
                    </td>
                    <td th:if="${!room.secretChk}">
                        <!-- thymeleaf ì˜ ë³€ìˆ˜ë¥¼ onclick ì— ë„£ëŠ” ë°©ë²• -->
                        <a onclick="return chkRoomUserCnt(this.getAttribute('roomId'));"
                           th:href="@{/chat/room(roomId=${room.roomId})}" th:roomid="${room.roomId}">[[${room.roomName}]]</a>
                    </td>
                    <td>
<span th:if="${room.secretChk}">
                            ğŸ”’ï¸
                        </span>
                    </td>
                    <td>
                        <span class="badge bg-primary rounded-pill">[[${room.userCount}]]/[[${room.maxUserCnt}]]</span>
                    </td>
                    <td>
                        <span th:if="${#strings.equals(room.chatType, 'MSG')}">ì¼ë°˜ ì±„íŒ…</span>
                        <span th:unless="${#strings.equals(room.chatType, 'MSG')}">í™”ìƒ ì±„íŒ…</span>
                    </td>
                    <td>
                        <button class="btn btn-primary btn-sm" data-bs-target="#confirmPwdModal" data-bs-toggle="modal"
                                id="configRoom" th:data-id="${room.roomId}">ì±„íŒ…ë°© ì„¤ì •
                        </button>
                    </td>
                </tr>
            </th:block>
        </table>
        <button class="btn btn-info" data-bs-target="#roomModal" data-bs-toggle="modal" type="button">ë°© ìƒì„±</button>
    </div>
</div>
</body>
</html>
<div aria-hidden="true" aria-labelledby="ModalToggleLabel" class="modal fade" id="confirmPwdModal" tabindex="-1">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">ì±„íŒ…ë°© ì„¤ì •ì„ ìœ„í•œ íŒ¨ìŠ¤ì›Œë“œ í™•ì¸</h5>
                <button aria-label="Close" class="btn-close" data-bs-dismiss="modal" type="button"></button>
            </div>
            <div class="modal-body">
                <label class="col-form-label" for="confirmPwd" id="confirmLabel">ë¹„ë°€ë²ˆí˜¸ í™•ì¸</label>
                <div class="input-group">
                    <input class="form-control" data-toggle="password" id="confirmPwd" name="confirmPwd"
                           type="password"/>
                    <div class="input-group-append">
                        <span class="input-group-text"><i class="fa fa-eye"></i></span>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button aria-disabled="true" class="btn btn-primary disabled" data-bs-target="#configRoomModal"
                        data-bs-toggle="modal" id="configRoomBtn">ì±„íŒ…ë°© ì„¤ì •í•˜ê¸°
                </button>
            </div>
        </div>
    </div>
</div>
<div aria-hidden="true" aria-labelledby="roomModalLabel" class="modal fade" id="configRoomModal" tabindex="-1">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">ì±„íŒ…ë°© ì„¤ì •</h5>
                <button aria-label="Close" class="btn-close" data-bs-dismiss="modal" type="button"></button>
            </div>
            <div class="modal-body">
                <div class="mb-3">
                    <label class="col-form-label" for="chPwd">ë¹„ë°€ë²ˆí˜¸ ë³€ê²½</label>
                    <div class="input-group">
                        <input class="form-control" data-toggle="password" id="chPwd" name="confirmPwd"
                               type="password"/>
                        <div class="input-group-append">
                            <span class="input-group-text"><i class="fa fa-eye"></i></span>
                        </div>
                    </div>
                </div>
                <div class="mb-3">
                    <label class="col-form-label" for="chRoomName">ì±„íŒ…ë°© ì´ë¦„ ë³€ê²½</label>
                    <input class="form-control" id="chRoomName" name="chRoomName" type="text"/>
                </div>
                <div class="mb-3">
                    <label class="col-form-label" for="chRoomUserCnt">ì±„íŒ…ë°© ì¸ì› ë³€ê²½</label>
                    <input class="form-control" id="chRoomUserCnt" name="chUserCnt" type="text"/>
                </div>
                <div class="form-check">
                    <input class="form-check-input" id="chSecret" type="checkbox"/>
                    <input id="chSecretChk" name="secretChk" type="hidden" value=""/>
                    <label class="form-check-label" for="secret">
                        ì±„íŒ…ë°© ì ê¸ˆ
                    </label>
                </div>
                <div class="mb-3">
                    <button class="btn btn-primary" onclick="delRoom()" type="button">ë°© ì‚­ì œ</button>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" data-bs-dismiss="modal" type="button">Close</button>
            </div>
        </div>
    </div>
</div>
<div aria-hidden="true" aria-labelledby="roomModalLabel" class="modal fade" id="roomModal" tabindex="-1">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">ì±„íŒ…ë°© ìƒì„±</h5>
                <button aria-label="Close" class="btn-close" data-bs-dismiss="modal" type="button"></button>
            </div>
            <form action="/chat/createroom" method="post" onsubmit="return createRoom()">
                <div class="modal-body">
                    <div class="mb-3">
                        <label class="col-form-label" for="roomName">ë°© ì´ë¦„</label>
                        <input class="form-control" id="roomName" name="roomName" type="text"/>
                    </div>
                    <div class="mb-3">
                        <label class="col-form-label" for="roomPwd">ë°© ì„¤ì • ë²ˆí˜¸(ë°© ì‚­ì œì‹œ í•„ìš”í•©ë‹ˆë‹¤)</label>
                        <div class="input-group">
                            <input class="form-control" data-toggle="password" id="roomPwd" name="roomPwd"
                                   type="password"/>
                            <div class="input-group-append">
                                <span class="input-group-text"><i class="fa fa-eye"></i></span>
                            </div>
                        </div>
                    </div>
                    <div class="mb-3">
                        <div class="form-check">
                            <input class="form-check-input" id="msgType" name="chatType" type="radio" value="msgChat"/>
                            <label class="form-check-label" for="msgType">
                                ì¼ë°˜ ì±„íŒ…(ìµœëŒ€ 100ëª…)
                            </label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" id="rtcType" name="chatType" type="radio" value="rtcChat"/>
                            <label class="form-check-label" for="rtcType">
                                í™”ìƒ ì±„íŒ…(ìµœëŒ€ 4ëª…)
                            </label>
                        </div>
                    </div>
                    <div class="mb-3">
                        <label class="col-form-label" for="maxUserCnt">ì±„íŒ…ë°© ì¸ì› ì„¤ì •
                            <!--<input class="form-check-input" type="checkbox" id="maxChk">--></label>
                        <input class="form-control" id="maxUserCnt" name="maxUserCnt" type="text"/>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input" id="secret" type="checkbox"/>
                        <input id="secretChk" name="secretChk" type="hidden" value=""/>
                        <label class="form-check-label" for="secret">
                            ì±„íŒ…ë°© ì ê¸ˆ
                        </label>
                    </div>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-secondary" data-bs-dismiss="modal" type="button">Close</button>
                    <input class="btn btn-primary" type="submit" value="ë°© ìƒì„±í•˜ê¸°"/>
                </div>
            </form>
        </div>
    </div>
</div>
<div aria-hidden="true" aria-labelledby="enterRoomModalLabel" class="modal fade" id="enterRoomModal" tabindex="-1">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">ì±„íŒ…ë°© ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”</h5>
                <button aria-label="Close" class="btn-close" data-bs-dismiss="modal" type="button"></button>
            </div>
            <div class="modal-body">
                <div class="mb-3">
                    <label class="col-form-label" for="roomName">ë°© ë¹„ë°€ë²ˆí˜¸</label>
                    <div class="input-group">
                        <input class="form-control" data-toggle="password" id="enterPwd" name="roomPwd"
                               type="password"/>
                        <div class="input-group-append">
                            <span class="input-group-text"><i class="fa fa-eye"></i></span>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-secondary" data-bs-dismiss="modal" type="button">Close</button>
                    <button class="btn btn-primary" onclick="enterRoom()" type="button">ì…ì¥í•˜ê¸°</button>
                </div>
            </div>
        </div>
    </div>
</div>
<div id="announcementModal" class="modal fade" tabindex="-1" aria-labelledby="announcementModalLabel" aria-hidden="true"
     data-bs-backdrop="static" data-bs-keyboard="false">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="announcementModalLabel">í™”ìƒì±„íŒ… ì´ìš© ì‹œ ì£¼ì˜ì‚¬í•­</h5>
<!--                <button aria-label="Close" class="btn-close" data-bs-dismiss="modal" type="button"></button>-->
            </div>
            <div class="modal-body">
                <ul class="nav nav-tabs" id="announcementTabs" role="tablist">
                    <li class="nav-item" role="presentation">
                        <button aria-controls="korea" aria-selected="true" class="nav-link active" data-bs-toggle="tab"
                                href="#korea" id="korea-tab" role="tab">Korea
                        </button>
                    </li>
                    <li class="nav-item" role="presentation">
                        <button aria-controls="eng" aria-selected="false" class="nav-link" data-bs-toggle="tab"
                                href="#eng" id="eng-tab" role="tab">Eng
                        </button>
                    </li>
                </ul>
                <div class="tab-content" id="announcementTabsContent">
                    <div aria-labelledby="korea-tab" class="tab-pane fade show active" id="korea" role="tabpanel">
                        ì•ˆë…•í•˜ì„¸ìš”, <strong style="color: #0408f8;font-size: 25px;"> ChatForYou </strong> ë¥¼ ì´ìš©í•´ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤. <br>
                        ì œ ì‚¬ì´íŠ¸ëŠ” ëª¨ë“  ì‚¬ìš©ìê°€ ì•ˆì „í•˜ê³  ì¾Œì í•œ
                        í™˜ê²½ì—ì„œ í™”ìƒì±„íŒ…ì„ ì¦ê¸¸ ìˆ˜ ìˆë„ë¡ ë…¸ë ¥í•˜ê³  ìˆìŠµë‹ˆë‹¤. ì´ë¥¼ ìœ„í•´ ì•„ë˜ì™€ ê°™ì€ í–‰ìœ„ëŠ” ì—„ê²©íˆ ê¸ˆì§€ë˜ì–´ ìˆìœ¼ë‹ˆ ì´ìš©ì— ì°¸ê³  ë¶€íƒë“œë¦½ë‹ˆë‹¤.
                        <br/><br/>
                        <strong style="color: red;">ë¹„ì†ì–´ ë° ë¶€ì ì ˆí•œ ì–¸ì–´ ì‚¬ìš© ê¸ˆì§€ </strong><br>
                        ëª¨ë“  ì‚¬ìš©ìê°€ í¸ì•ˆí•˜ê²Œ ëŒ€í™”í•  ìˆ˜ ìˆë„ë¡ ë¹„ì†ì–´ë‚˜ ë¶€ì ì ˆí•œ ì–¸ì–´ì˜ ì‚¬ìš©ì€ ê¸ˆì§€ë˜ì–´ ìˆìŠµë‹ˆë‹¤.
                        <br/><br/>
                        <strong style="color: red;">ë¶ˆì¾Œê°ì„ ì¤„ ìˆ˜ ìˆëŠ” í–‰ìœ„ ê¸ˆì§€ </strong><br>
                        íƒ€ ì‚¬ìš©ìë¥¼ ìœ„í˜‘í•˜ê±°ë‚˜ ë¶ˆì¾Œê°ì„ ì¤„ ìˆ˜ ìˆëŠ” ëª¨ë“  í–‰ìœ„ëŠ” ê¸ˆì§€ë˜ì–´ ìˆìŠµë‹ˆë‹¤. ì´ì— í•´ë‹¹í•˜ëŠ” í–‰ìœ„ë¥¼ ë°œê²¬í•  ê²½ìš° ì¦‰ì‹œ ì„œë¹„ìŠ¤ ì´ìš©ì´ ì œí•œë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
                        <br/><br/>
                        <strong style="color: red;">ë¶ˆë²•ì ì¸ í™œë™ ê¸ˆì§€ </strong><br>
                        ë¶ˆë²•ì ì¸ í™œë™, ì˜ˆë¥¼ ë“¤ì–´ ë¶ˆë²• ìŠ¤íŠ¸ë¦¬ë°, ì €ì‘ê¶Œ ì¹¨í•´, ë¶ˆë²• ê´‘ê³  ë“±ì€ ì—„ê²©íˆ ê¸ˆì§€ë˜ì–´ ìˆìŠµë‹ˆë‹¤. í•´ë‹¹ í™œë™ì„ ë°œê²¬í•  ê²½ìš° ì¦‰ì‹œ ì„œë¹„ìŠ¤ ì´ìš©ì´ ì œí•œë˜ë©°, ê´€ë ¨ ë²•ë¥ ì— ë”°ë¼
                        ì²˜ë²Œë°›ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
                        <br/><br/>
                        <strong style="color: red;">ë²•ì  ì±…ì„ì— ê´€í•œ ì•ˆë‚´ </strong><br>
                        ì‚¬ìš©ìëŠ” ChatForYouì„ ì´ìš©í•¨ì— ìˆì–´ ë°œìƒí•˜ëŠ” ëª¨ë“  í–‰ìœ„ì— ëŒ€í•œ ë²•ì  ì±…ì„ì„ ì§€ê²Œ ë©ë‹ˆë‹¤. ChatForYouì€ ì‚¬ìš©ìì˜ ë¶ˆë²• í–‰ìœ„ì— ëŒ€í•œ ì–´ë– í•œ ì±…ì„ë„ ì§€ì§€
                        ì•ŠìŠµë‹ˆë‹¤.
                        <br/><br/>
                        <!-- ìˆ˜ì •ëœ ì‚¬ìš©ì ì •ë³´ ìˆ˜ì§‘ ì•ˆë‚´ -->
                        <strong style="color: red;">ì‚¬ìš©ì ì •ë³´ ìˆ˜ì§‘ ì•ˆë‚´ </strong><br>
                        <p>
                            ChatForYouëŠ” ì‚¬ì´íŠ¸ ë³´ì•ˆ ê°•í™” ë° ì‚¬ìš©ì ê²½í—˜ ê°œì„ ì„ ìœ„í•´ ì‚¬ìš©ìì˜ ì •ë³´ë¥¼ ìˆ˜ì§‘í•˜ê³  ìˆìŠµë‹ˆë‹¤.
                        </p>
                        <ul>
                            <li><strong>ì ‘ì†ì IP ì£¼ì†Œ:</strong> ì‚¬ì´íŠ¸ ì ‘ì†ì— ì‚¬ìš©ë˜ëŠ” ì¸í„°ë„· í”„ë¡œí† ì½œ ì£¼ì†Œ.</li>
                            <li><strong>êµ­ê°€ ì •ë³´:</strong> ì‚¬ìš©ìì˜ ì§€ë¦¬ì  ìœ„ì¹˜ë¥¼ ë‚˜íƒ€ë‚´ëŠ” êµ­ê°€ ì •ë³´.</li>
                            <li><strong>í™œìš© ëª©ì :</strong></li>
                            <ul>
                                <li>ì ‘ì†ì í†µê³„: ì¼ë³„, ì›”ë³„ ì‚¬ìš©ì ì ‘ì† í†µê³„ë¥¼ ìˆ˜ì§‘í•˜ì—¬ ì‚¬ì´íŠ¸ ê´€ë¦¬ ë° ê°œì„ ì— í™œìš©.</li>
                                <li>ë¸”ë™ë¦¬ìŠ¤íŠ¸ ê´€ë¦¬: ë¶ˆë²•ì ì´ê±°ë‚˜ ë¶€ì ì ˆí•œ í–‰ìœ„ë¥¼ í•˜ëŠ” ì‚¬ìš©ìë¥¼ ì‹ë³„í•˜ì—¬ ì‚¬ì´íŠ¸ì˜ ì•ˆì „ì„ ìœ ì§€.</li>
                            </ul>
                        </ul>
                        <br/><br/>
                        ì €ëŠ” ì—¬ëŸ¬ë¶„ì˜ í˜‘ì¡°ì™€ ì§€í‚¤ë ¤ëŠ” ë…¸ë ¥ì„ ë°”íƒ•ìœ¼ë¡œ ë” ë‚˜ì€ ì„œë¹„ìŠ¤ í™˜ê²½ì„ ì œê³µí•˜ê¸° ìœ„í•´ ë…¸ë ¥í•˜ê³  ìˆìŠµë‹ˆë‹¤.
                        ì‚¬ìš© ì¤‘ ë¬¸ì œë‚˜ ê±´ì˜ì‚¬í•­ì´ ìˆìœ¼ì‹œë©´ <strong>wkdtpwhs@gmail.com</strong>
                        ë¡œ ì—°ë½ ì£¼ì‹œê¸° ë°”ëë‹ˆë‹¤.
                        ê°ì‚¬í•©ë‹ˆë‹¤.
                    </div>
                    <div aria-labelledby="eng-tab" class="tab-pane fade" id="eng" role="tabpanel">
                        Hello, thank you for using <strong style="color: #0408f8;font-size: 25px;"> ChatForYou. <br></strong>
                        Our site strives to provide all users with a safe and pleasant environment to enjoy video chatting. For this
                        reason, please note that the following actions are strictly prohibited.
                        <br/><br/>
                        <strong style="color: red;">Prohibition of slang and inappropriate
                            language </strong><br/>
                        The use of slang or inappropriate language is prohibited to ensure that all users can have a
                        comfortable conversation.
                        <br/><br/>
                        <strong style="color: red;">Prohibition of actions that can cause
                            discomfort </strong><br/>
                        Any action that can threaten other users or cause discomfort is prohibited. If such actions are
                        detected, the use of the service can be immediately restricted.
                        <br/><br/>
                        <strong style="color: red;">Prohibition of illegal activities </strong><br/>
                        Illegal activities, such as illegal streaming, copyright infringement, and illegal advertising,
                        are strictly prohibited. If such activities are detected, the use of the service can be
                        immediately restricted, and you may be punished under relevant laws.
                        <br/><br/>
                        <strong style="color: red;">Legal responsibility </strong><br/>
                        Users are legally responsible for all actions taken while using ChatForYou. ChatForYou does not
                        take any responsibility for illegal actions of the user.
                        <br/><br/>
                        <strong style="color: red;">User Information Collection Notice </strong><br/>
                        <p>
                            ChatForYou collects certain information from users to enhance site security and user experience.
                        </p>
                        <ul>
                            <li><strong>User IP Address:</strong> The Internet Protocol address used for site access.</li>
                            <li><strong>Country Information:</strong> Geographical location information of the user.</li>
                            <li><strong>Purpose of Use:</strong></li>
                            <ul>
                                <li>User Statistics: Collecting daily and monthly user access statistics for site management and improvement.</li>
                                <li>Blacklist Management: Identifying users engaging in illegal or inappropriate actions to maintain site safety.</li>
                            </ul>
                        </ul>
                        We are striving to provide a better service environment based on the cooperation and efforts of
                        our users. If you have any issues or suggestions while using the service, please contact us at
                        <strong>wkdtpwhs@gmail.com</strong>.
                        Thank you.
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <div class="form-check">
                    <input class="form-check-input" id="dontShowAgain" type="checkbox"/>
                    <label class="form-check-label" for="dontShowAgain">ì˜¤ëŠ˜ì€ ë” ì´ìƒ ì•ˆë³´ê¸°(Don't show again today)</label>
                </div>
                <button class="btn btn-secondary" data-bs-dismiss="modal" id="agreeBtn" type="button">ë™ì˜í•©ë‹ˆë‹¤.(Agree)</button>
            </div>
        </div>
    </div>
</div>